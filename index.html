<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pelacak Memasak</title>

<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<style>
:root{
  --bg-dark: radial-gradient(circle at top, #1c1f4a, #06070f);
  --bg-light: linear-gradient(135deg,#f5f7fa,#e6ecf5);
  --glass: rgba(255,255,255,0.12);
  --glass-border: rgba(255,255,255,0.25);
  --text-dark: #ffffff;
  --text-light: #000000;
  --accent: #4fd1ff;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:var(--bg-dark);
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",sans-serif;
  color:var(--text-dark);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:30px;
  transition:.6s ease;
}

/* Liquid blobs */
body::before, body::after{
  content:"";
  position:fixed;
  width:360px;
  height:360px;
  background:radial-gradient(circle,#4fd1ff,transparent 70%);
  filter:blur(100px);
  opacity:.45;
  z-index:-1;
}
body::before{top:-120px;left:-120px}
body::after{bottom:-120px;right:-120px}

.app{
  width:100%;
  max-width:900px;
  background:var(--glass);
  backdrop-filter: blur(30px) saturate(160%);
  border:1px solid var(--glass-border);
  border-radius:30px;
  padding:32px;
  box-shadow:0 30px 70px rgba(0,0,0,.45);
  animation:fadeUp .8s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:none}
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
}

header h1{
  font-size:26px;
  font-weight:600;
}

.toggle{
  border:none;
  background:var(--glass);
  border:1px solid var(--glass-border);
  color:white;
  padding:10px 14px;
  border-radius:14px;
  font-size:18px;
  cursor:pointer;
  transition:.3s;
}
.toggle:hover{transform:scale(1.05)}

form{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
}

form input, form button{
  padding:14px;
  border-radius:16px;
  border:none;
  background:rgba(255,255,255,.15);
  color:white;
  font-size:16px;
  outline:none;
}

form input:focus{
  box-shadow:0 0 0 2px var(--accent);
}

form button{
  grid-column:span 2;
  background:linear-gradient(135deg,#4fd1ff,#6f7bff);
  font-weight:600;
  cursor:pointer;
  transition:.3s;
}
form button:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 28px rgba(79,209,255,.5);
}

#result{
  margin:20px 0;
  text-align:center;
  font-size:20px;
  font-weight:600;
}

#calendar{
  margin-top:25px;
  border-radius:22px;
  overflow:hidden;
}

.fc{
  background:transparent;
  color:white;
}
.fc-button{
  background:rgba(255,255,255,.15)!important;
  border:none!important;
}
.fc-event{
  background:linear-gradient(135deg,#4fd1ff,#6f7bff)!important;
  border:none!important;
  border-radius:12px!important;
}

/* LIGHT MODE */
body.light{
  background:var(--bg-light);
  color:var(--text-light);
}
body.light .app,
body.light input,
body.light .toggle{
  background:rgba(255,255,255,.65);
  color:black;
}
body.light .fc,
body.light .fc-button{
  color:black!important;
}
</style>
</head>

<body>
<div class="app">
  <header>
    <h1>üç≤ Pelacak Memasak</h1>
    <button class="toggle" id="toggle">üåô</button>
  </header>

  <form id="form">
    <input type="number" id="drum" placeholder="Jumlah drum" required>
    <input type="date" id="tanggal" required>
    <button>Simpan</button>
  </form>

  <div id="result">Total Bayaran: Rp 0</div>
  <div id="calendar"></div>
</div>

<script>
const toggle=document.getElementById("toggle");
toggle.onclick=()=>{
 document.body.classList.toggle("light");
 toggle.textContent=document.body.classList.contains("light")?"‚òÄÔ∏è":"üåô";
};

const calendar=new FullCalendar.Calendar(
 document.getElementById("calendar"),{
  initialView:"dayGridMonth",
  events:load(),
  eventClick:i=>{
   alert(`Tanggal: ${i.event.startStr}
Drum: ${i.event.extendedProps.drum}
Bayaran: Rp ${i.event.extendedProps.bayaran.toLocaleString()}`)
  }
 });
calendar.render();

function load(){
 return JSON.parse(localStorage.getItem("masak")||"[]").map(i=>({
  title:`${i.drum} drum`,
  start:i.tanggal,
  extendedProps:i
 }));
}

document.getElementById("form").onsubmit=e=>{
 e.preventDefault();
 const drum=+document.getElementById("drum").value;
 const tanggal=document.getElementById("tanggal").value;
 const bayaran=drum*10000;
 document.getElementById("result").textContent=
  `Total Bayaran: Rp ${bayaran.toLocaleString()}`;
 const data=JSON.parse(localStorage.getItem("masak")||"[]");
 data.push({drum,tanggal,bayaran});
 localStorage.setItem("masak",JSON.stringify(data));
 calendar.removeAllEvents();
 calendar.addEventSource(load());
 e.target.reset();
};
</script>
</body>
</html>
